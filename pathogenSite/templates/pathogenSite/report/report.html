{% load i18n staticfiles %}
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<!--
	jquery, bootstrap, jquery-ui, d3, crossfilter, dc
	-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dc/1.7.3/dc.min.css">
	<!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dc/2.0.0-beta.11/dc.min.css">-->



</head>
<body>
<div class="container">
	<div class="row" style="margin-top:20px;">
	</div>
	<!-- control board -->
	<div class="row">
		<hr>
		<div class="btn-group">
			<button type="button" class="btn btn-info dropdown-toggle" id="sort_samles" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				sort samples
			</button>
			<ul id="sort_samples" class="dropdown-menu" aria-labelledby="sort_samples">
				<li><a href="javascript:void(0);" id="by_time">by time</a></li>
				<li><a href="javascript:void(0);" id="on_manual">on manual</a></li>
			</ul>
		</div>
		<div id="area_for_manual">
		</div>	
	</div>

	<!-- total samples stats -->
	<div class="row">
		<hr>
		<div id="sample-pie-chart">
			<strong>plot1</strong>
			<a class="reset" style="display:none;" href="javascript:pieChart.filterAll();dc.redrawAll();">reset</a>
			<div class="clearfix">
			</div>	
		</div>
		<div id="sample-pie-chart-test">
			<strong>plot2</strong>
			<a class="reset" style="display:none;" href="javascript:pieChartTest.filterAll();dc.redrawAll();">reset</a>
			<div class="clearfix">
			</div>	
		</div>
		<div id="sample-stack-chart"></div>
	</div>

	<div class="div1 row">
		<hr>
		<h3>Data Summary</h3>
		<h4>Read Count Assignment Flow</h4>
		<div id="div1_sankey1"></div>
		<br>
		<h4>Detected Pathogens & Possible Diseases</h4>
		<div id="div1_bubble1" class="col-sm-offset-2"></div>
	</div>

	<div class="div2 row">
		<hr>
		<h3>Data Details</h3>
		<h4>Total Microbiome Distribution</h4>
		<div id="div2_table1" class="col-sm-3"></div>
		<div id="div2_pie1" class="col-sm-4"></div>
		<div id="div2_pie2" class="col-sm-4"></div>
	</div>

	<div class="div3 row">
		<hr>
		<h4>Pathogen Distribution</h4>
		<div id="div3_pie1" class="col-sm-5"></div>
		<div id="div3_column1" class="col-sm-4"></div>
	</div>

	<div class="div4 row">
		<hr>
		<h4>Pathogen Information</h4>
		<div class="col-sm-4 composition"></div>
		<div class="col-sm-12">
			<table class="table">
				<thead>
					<tr>
						<th><Strong>Species</Strong></th>
						<th><a class="group">[GROUP]</a> <i>Escherichia coli</i></th>
					</tr>
				<thead>
				<tbody>
					<tr>
						<td><strong>Basonym</strong></td>
						<td><i>Bacterium coli commune, Bacillus coli, 
								Bacterium coli
						</i></td>
					</tr>
					<tr>
						<td><strong>Taxonomy Group</strong></td>
						<td><i>Escherichia coli, Shigella flexneri, 
								Shigella sonnei, Shigella boydii, 
								Escherichia albertii, Shigella dysenteriae, 
								Escherichia fergusonii
						</i></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>

	<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js" charset="utf-8"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.11/crossfilter.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/dc/1.7.3/dc.min.js"></script>
	<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.0.0-beta.11/dc.js"></script>-->

	<script>
		var data = {{ data|safe }}
		$("#sort_samples li a").click(function(){
			var sortBy = $(this).text();
			if (sortBy === "by time"){
				return true;
			} else if (sortBy === "on manual"){
				return true;	
			}
		});
	</script>
	<script src="{% static 'pathogenSite/js/report.js' %}"></script>

</body>
</html>

